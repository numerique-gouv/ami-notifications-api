{% extends "base.html" %}

{% block container %}
  <form>
    <p>Status: <span id="loading-text">Loading, waiting for the service worker registration</span></p>
    <button type="button" id="ask-for-notifications">
      Ask notifications auth
    </button>
    <br />
    <p><label>pushURL <textarea type="text" id="push-sub-url" cols="100" disabled></textarea></label></p>
    <p><label>auth <input type="text" id="push-sub-auth" disabled /></label></p>
    <p><label>p256dh <input type="text" id="push-sub-p256dh" disabled /></label></p>
    <p><label>Email for the registration <input type="text" id="register-email" /></label></p>
    <p><button type="button" id="register-with-ami">Register with AMI</button> <span id="registration-status"></span></p>
  </form>

  <hr />
  <h1>RDV-SP</h1>
  <form>
    <p><label>Message to notify <input type="text" id="notify-message-input" /></label></p>
    <p><button type="button" id="notify-message">Notify me</button> <span id="notify-message-status"></span></p>
  </form>

  <h2>Historique global</h2>
  <ul>
    {% for notification in notifications %}
      <li>{{ notification }}</li>
    {% endfor %}
  </ul>
{% endblock container %}

