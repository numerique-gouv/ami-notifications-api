<!doctype html>
<html lang="en">
  <head>
    <title>Mobile app</title>
    <meta charset="utf-8" />
    <link rel="icon" href="%sveltekit.assets%/favicon.ico" sizes="32x32" />
    <link rel="icon" href="%sveltekit.assets%/icon.svg" type="image/svg+xml" />
    <link rel="apple-touch-icon" href="%sveltekit.assets%/apple-touch-icon.png" />
    <link rel="manifest" href="%sveltekit.assets%/manifest.json" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    %sveltekit.head%
  </head>
  <body data-sveltekit-preload-data="hover">
    <main class="container">
      <div style="display: contents">%sveltekit.body%</div>
    </main>
    <script>
      if ('serviceWorker' in navigator) {
        navigator.serviceWorker.register('%sveltekit.assets%/service-worker.js')
          .then(
            registration => {
              let status;
              if (registration.installing) {
                status = 'Service worker installing';
              } else if (registration.waiting) {
                status = 'Service worker installed';
              } else if (registration.active) {
                status = 'Service worker active';
              }
              console.log('status', status);
              console.log('registration', registration);
              registration.update();
            },
            error => {
              console.error(`Registration failed with ${error}`);
            }
          );
      } else {
        alert('Service workers are not supported');
      }
    </script>
  </body>
</html>
